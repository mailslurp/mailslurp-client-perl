=begin comment

MailSlurp API

MailSlurp is an API for sending and receiving emails from dynamically allocated email addresses. It's designed for developers and QA teams to test applications, process inbound emails, send templated notifications, attachments, and more.  ## Resources  - [Homepage](https://www.mailslurp.com) - Get an [API KEY](https://app.mailslurp.com/sign-up/) - Generated [SDK Clients](https://www.mailslurp.com/docs/) - [Examples](https://github.com/mailslurp/examples) repository

The version of the OpenAPI document: 6.5.2
Contact: contact@mailslurp.dev
Generated by: https://openapi-generator.tech

=end comment

=cut

#
# NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
# Do not edit the class manually.
# Ref: https://openapi-generator.tech
#
package MailSlurp::EmailVerificationControllerApi;

require 5.6.0;
use strict;
use warnings;
use utf8; 
use Exporter;
use Carp qw( croak );
use Log::Any qw($log);

use MailSlurp::ApiClient;

use base "Class::Data::Inheritable";

__PACKAGE__->mk_classdata('method_documentation' => {});

sub new {
    my $class = shift;
    my $api_client;

    if ($_[0] && ref $_[0] && ref $_[0] eq 'MailSlurp::ApiClient' ) {
        $api_client = $_[0];
    } else {
        $api_client = MailSlurp::ApiClient->new(@_);
    }

    bless { api_client => $api_client }, $class;

}


#
# get_validation_requests
#
# Validate a list of email addresses. Per unit billing. See your plan for pricing.
# 
# @param int $page Optional page index in list pagination (optional, default to 0)
# @param int $size Optional page size for paginated result list. (optional, default to 20)
# @param string $sort Optional createdAt sort direction ASC or DESC (optional, default to 'DESC')
# @param string $search_filter Optional search filter (optional)
# @param DateTime $since Filter by created at after the given timestamp (optional)
# @param DateTime $before Filter by created at before the given timestamp (optional)
# @param boolean $is_valid Filter where email is valid is true or false (optional)
{
    my $params = {
    'page' => {
        data_type => 'int',
        description => 'Optional page index in list pagination',
        required => '0',
    },
    'size' => {
        data_type => 'int',
        description => 'Optional page size for paginated result list.',
        required => '0',
    },
    'sort' => {
        data_type => 'string',
        description => 'Optional createdAt sort direction ASC or DESC',
        required => '0',
    },
    'search_filter' => {
        data_type => 'string',
        description => 'Optional search filter',
        required => '0',
    },
    'since' => {
        data_type => 'DateTime',
        description => 'Filter by created at after the given timestamp',
        required => '0',
    },
    'before' => {
        data_type => 'DateTime',
        description => 'Filter by created at before the given timestamp',
        required => '0',
    },
    'is_valid' => {
        data_type => 'boolean',
        description => 'Filter where email is valid is true or false',
        required => '0',
    },
    };
    __PACKAGE__->method_documentation->{ 'get_validation_requests' } = { 
        summary => 'Validate a list of email addresses. Per unit billing. See your plan for pricing.',
        params => $params,
        returns => 'PageEmailValidationRequest',
        };
}
# @return PageEmailValidationRequest
#
sub get_validation_requests {
    my ($self, %args) = @_;

    # parse inputs
    my $_resource_path = '/email-verification/validation-requests';

    my $_method = 'GET';
    my $query_params = {};
    my $header_params = {};
    my $form_params = {};

    # 'Accept' and 'Content-Type' header
    my $_header_accept = $self->{api_client}->select_header_accept('*/*');
    if ($_header_accept) {
        $header_params->{'Accept'} = $_header_accept;
    }
    $header_params->{'Content-Type'} = $self->{api_client}->select_header_content_type();

    # query params
    if ( exists $args{'page'}) {
        $query_params->{'page'} = $self->{api_client}->to_query_value($args{'page'});
    }

    # query params
    if ( exists $args{'size'}) {
        $query_params->{'size'} = $self->{api_client}->to_query_value($args{'size'});
    }

    # query params
    if ( exists $args{'sort'}) {
        $query_params->{'sort'} = $self->{api_client}->to_query_value($args{'sort'});
    }

    # query params
    if ( exists $args{'search_filter'}) {
        $query_params->{'searchFilter'} = $self->{api_client}->to_query_value($args{'search_filter'});
    }

    # query params
    if ( exists $args{'since'}) {
        $query_params->{'since'} = $self->{api_client}->to_query_value($args{'since'});
    }

    # query params
    if ( exists $args{'before'}) {
        $query_params->{'before'} = $self->{api_client}->to_query_value($args{'before'});
    }

    # query params
    if ( exists $args{'is_valid'}) {
        $query_params->{'isValid'} = $self->{api_client}->to_query_value($args{'is_valid'});
    }

    my $_body_data;
    # authentication setting, if any
    my $auth_settings = [qw(API_KEY )];

    # make the API Call
    my $response = $self->{api_client}->call_api($_resource_path, $_method,
                                           $query_params, $form_params,
                                           $header_params, $_body_data, $auth_settings);
    if (!$response) {
        return;
    }
    my $_response_object = $self->{api_client}->deserialize('PageEmailValidationRequest', $response);
    return $_response_object;
}

#
# validate_email_address_list
#
# Validate a list of email addresses. Per unit billing. See your plan for pricing.
# 
# @param ValidateEmailAddressListOptions $validate_email_address_list_options  (required)
{
    my $params = {
    'validate_email_address_list_options' => {
        data_type => 'ValidateEmailAddressListOptions',
        description => '',
        required => '1',
    },
    };
    __PACKAGE__->method_documentation->{ 'validate_email_address_list' } = { 
        summary => 'Validate a list of email addresses. Per unit billing. See your plan for pricing.',
        params => $params,
        returns => 'ValidateEmailAddressListResult',
        };
}
# @return ValidateEmailAddressListResult
#
sub validate_email_address_list {
    my ($self, %args) = @_;

    # verify the required parameter 'validate_email_address_list_options' is set
    unless (exists $args{'validate_email_address_list_options'}) {
      croak("Missing the required parameter 'validate_email_address_list_options' when calling validate_email_address_list");
    }

    # parse inputs
    my $_resource_path = '/email-verification/email-address-list';

    my $_method = 'POST';
    my $query_params = {};
    my $header_params = {};
    my $form_params = {};

    # 'Accept' and 'Content-Type' header
    my $_header_accept = $self->{api_client}->select_header_accept('*/*');
    if ($_header_accept) {
        $header_params->{'Accept'} = $_header_accept;
    }
    $header_params->{'Content-Type'} = $self->{api_client}->select_header_content_type('application/json');

    my $_body_data;
    # body params
    if ( exists $args{'validate_email_address_list_options'}) {
        $_body_data = $args{'validate_email_address_list_options'};
    }

    # authentication setting, if any
    my $auth_settings = [qw(API_KEY )];

    # make the API Call
    my $response = $self->{api_client}->call_api($_resource_path, $_method,
                                           $query_params, $form_params,
                                           $header_params, $_body_data, $auth_settings);
    if (!$response) {
        return;
    }
    my $_response_object = $self->{api_client}->deserialize('ValidateEmailAddressListResult', $response);
    return $_response_object;
}

1;
